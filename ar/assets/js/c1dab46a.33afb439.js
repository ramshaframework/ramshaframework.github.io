"use strict";(globalThis.webpackChunkramsha_doc=globalThis.webpackChunkramsha_doc||[]).push([[5687],{7737:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>t,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"basics/architecture/ramsha-engine","title":"Ramsha Engine","description":"At the heart of the Ramsha Framework is the Ramsha Engine, which drives all module management, dependency resolution, and lifecycle execution.","source":"@site/docs/basics/architecture/ramsha-engine.md","sourceDirName":"basics/architecture","slug":"/basics/architecture/ramsha-engine","permalink":"/ar/docs/basics/architecture/ramsha-engine","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/ar/docs/category/architecture"},"next":{"title":"Modularity","permalink":"/ar/docs/basics/architecture/modularity"}}');var r=a(4848),s=a(8453);const t={sidebar_position:1},l="Ramsha Engine",o={},h=[{value:"What is the Ramsha Engine?",id:"what-is-the-ramsha-engine",level:2},{value:"Ramsha as a Service Engine",id:"ramsha-as-a-service-engine",level:2},{value:"Example",id:"example",level:3},{value:"External Ramsha App Engine",id:"external-ramsha-app-engine",level:2},{value:"Example",id:"example-1",level:3},{value:"Ramsha Internal App Engine",id:"ramsha-internal-app-engine",level:2},{value:"Example",id:"example-2",level:3}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ramsha-engine",children:"Ramsha Engine"})}),"\n",(0,r.jsxs)(n.p,{children:["At the heart of the ",(0,r.jsx)(n.strong,{children:"Ramsha Framework"})," is the ",(0,r.jsx)(n.strong,{children:"Ramsha Engine"}),", which drives all module management, dependency resolution, and lifecycle execution."]}),"\n",(0,r.jsxs)(n.p,{children:["The engine is ",(0,r.jsx)(n.strong,{children:"the core runtime"})," that powers:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Ramsha as a Service"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Ramsha External App"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Ramsha Internal App"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["All of them use the same engine concepts, they differ in ",(0,r.jsx)(n.strong,{children:"who controls the application, hosting, and configuration"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"what-is-the-ramsha-engine",children:"What is the Ramsha Engine?"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Ramsha Engine"})," is responsible for:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Loading modules"}),"\n",(0,r.jsx)(n.li,{children:"Preparing modules"}),"\n",(0,r.jsx)(n.li,{children:"Registering modules services"}),"\n",(0,r.jsxs)(n.li,{children:["Executing module lifecycle hooks ( ",(0,r.jsx)(n.code,{children:"Initialize"}),", ",(0,r.jsx)(n.code,{children:"Shutdown"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Every Ramsha-based application, whether hosted in ASP.NET Core or fully managed by Ramsha, runs on top of this engine."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"ramsha-as-a-service-engine",children:"Ramsha as a Service Engine"}),"\n",(0,r.jsxs)(n.p,{children:["Integrate Ramsha modules into an ",(0,r.jsx)(n.strong,{children:"existing ASP.NET Core application"})," without taking ownership of the application lifecycle."]}),"\n",(0,r.jsx)(n.p,{children:"Key points:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses the ",(0,r.jsxs)(n.strong,{children:["host-provided ",(0,r.jsx)(n.code,{children:"IServiceProvider"})]})]}),"\n",(0,r.jsxs)(n.li,{children:["No application identity (",(0,r.jsx)(n.code,{children:"InstanceId"}),") or name"]}),"\n",(0,r.jsx)(n.li,{children:"can not recreated programmatically"}),"\n",(0,r.jsx)(n.li,{children:"Does not have creation options"}),"\n",(0,r.jsx)(n.li,{children:"Only initializes modules and integrates Ramsha into an existing app"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use Case:"}),(0,r.jsx)(n.br,{}),"\n","You want to add Ramsha modules (like ",(0,r.jsx)(n.strong,{children:"IdentityModule"}),") to an existing web app without fully letting Ramsha manage the app."]}),"\n",(0,r.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"var builder = WebApplication.CreateBuilder(args);\r\n\r\nbuilder.Services.AddRamsha(ramsha =>\r\n{\r\n    ramsha.AddModule<IdentityModule>();\r\n});\r\n\r\nvar app = builder.Build();\r\n\r\napp.UseRamsha();\r\n\r\napp.Run();\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"external-ramsha-app-engine",children:"External Ramsha App Engine"}),"\n",(0,r.jsx)(n.p,{children:"Run a Ramsha App inside an existing host while still providing full app identity and options."}),"\n",(0,r.jsx)(n.p,{children:"Key points:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses external IServiceProvider (like As Service)"}),"\n",(0,r.jsx)(n.li,{children:"Tracks app identity (InstanceId) and AppName"}),"\n",(0,r.jsx)(n.li,{children:"Supports creation options (Environment , Configuration sources and AppInfo)"}),"\n",(0,r.jsx)(n.li,{children:"Supports Startup Module"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Use Case:\r\nYou want a full Ramsha App but need it to share DI, configuration, or middleware with an existing host."}),"\n",(0,r.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"var builder = WebApplication.CreateBuilder(args);\r\n\r\nbuilder.AddRamshaApp<StartupModule>();\r\n\r\nvar app = builder.Build();\r\n\r\napp.UseRamsha();\r\n\r\napp.Run();\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"ramsha-internal-app-engine",children:"Ramsha Internal App Engine"}),"\n",(0,r.jsx)(n.p,{children:"Create a standalone Ramsha App where App is fully managed by the engine itself"}),"\n",(0,r.jsx)(n.p,{children:"Key points:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tracks app identity (InstanceId) and optional AppName."}),"\n",(0,r.jsx)(n.li,{children:"Each app has its own ServiceProvider and isolated environment"}),"\n",(0,r.jsx)(n.li,{children:"Fully self-contained: Ramsha manages services, modules, and lifecycle"}),"\n",(0,r.jsx)(n.li,{children:"Supports creation options (Environment , Configuration sources and AppInfo)"}),"\n",(0,r.jsx)(n.li,{children:"Supports Startup Module"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Use Case:\r\nYou want a full Ramsha-driven application independent of the host. Ideal for microservices or standalone backend apps."}),"\n",(0,r.jsx)(n.h3,{id:"example-2",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'var app = RamshaFactory.CreateApp<MyAppStartupModule>(options =>\r\n{\r\n    options.AppName = "MyInternalApp";\r\n    options.Environment = "Development";\r\n});\r\n\r\nConsole.WriteLine($"App ID: {app.InstanceId}");\r\nConsole.WriteLine($"App Name: {app.ApplicationName}");\r\n\r\n// Configure modules and services\r\nawait app.ConfigureAsync();\n'})})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>l});var i=a(6540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);