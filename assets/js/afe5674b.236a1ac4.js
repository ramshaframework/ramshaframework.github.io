"use strict";(globalThis.webpackChunkramsha_doc=globalThis.webpackChunkramsha_doc||[]).push([[4999],{8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var i=s(6540);const r={},l=i.createContext(r);function c(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(l.Provider,{value:n},e.children)}},8464:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>o,frontMatter:()=>c,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"basics/architecture/clean-architecture","title":"Clean Architecture","description":"Clean Architecture helps you organize your application into distinct layers with clear responsibilities, keeping business rules independent from infrastructure and framework concerns.","source":"@site/docs/basics/architecture/clean-architecture.md","sourceDirName":"basics/architecture","slug":"/basics/architecture/clean-architecture","permalink":"/docs/basics/architecture/clean-architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Ramsha Hooks","permalink":"/docs/basics/architecture/hooks"},"next":{"title":"Persistence","permalink":"/docs/category/persistence"}}');var r=s(4848),l=s(8453);const c={sidebar_position:4},t="Clean Architecture",a={},h=[{value:"Clean Architecture in Ramsha",id:"clean-architecture-in-ramsha",level:2},{value:"Ramsha Layered Architecture Overview",id:"ramsha-layered-architecture-overview",level:2},{value:"Dependency Rules",id:"dependency-rules",level:2},{value:"Layer Responsibilities",id:"layer-responsibilities",level:2},{value:"Shared Layer",id:"shared-layer",level:3},{value:"Domain Layer",id:"domain-layer",level:3},{value:"Contracts Layer",id:"contracts-layer",level:3},{value:"Application Layer",id:"application-layer",level:3},{value:"Persistence Layer",id:"persistence-layer",level:3},{value:"API Layer",id:"api-layer",level:3},{value:"Startup Layer",id:"startup-layer",level:3},{value:"Clean Architecture + Modularity",id:"clean-architecture--modularity",level:2},{value:"When to Use This Architecture",id:"when-to-use-this-architecture",level:2}];function d(e){const n={br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"clean-architecture",children:"Clean Architecture"})}),"\n",(0,r.jsxs)(n.p,{children:["Clean Architecture helps you organize your application into distinct ",(0,r.jsx)(n.strong,{children:"layers with clear responsibilities"}),", keeping business rules independent from infrastructure and framework concerns."]}),"\n",(0,r.jsx)(n.h2,{id:"clean-architecture-in-ramsha",children:"Clean Architecture in Ramsha"}),"\n",(0,r.jsx)(n.p,{children:"Ramsha Framework implements a layered Clean Architecture that enforces clear dependency rules, strong separation of concerns, and long-term maintainability."}),"\n",(0,r.jsx)(n.p,{children:"Each layer has a single responsibility, and dependencies are strictly controlled."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"ramsha-layered-architecture-overview",children:"Ramsha Layered Architecture Overview"}),"\n",(0,r.jsx)(n.p,{children:"A Ramsha application is composed of the following basics layers:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Shared"})," - ",(0,r.jsx)(n.strong,{children:"Domain"})," - ",(0,r.jsx)(n.strong,{children:"Contracts"})," - ",(0,r.jsx)(n.strong,{children:"Application"})," - ",(0,r.jsx)(n.strong,{children:"Persistence"})," - ",(0,r.jsx)(n.strong,{children:"Api"})," - ",(0,r.jsx)(n.strong,{children:"Startup"})]}),"\n",(0,r.jsx)(n.p,{children:"These layers work together to form a clean, modular, and scalable system."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Ramsha Clean Web API template"})," implements this pattern, giving you a scalable, maintainable project baseline."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"dependency-rules",children:"Dependency Rules"}),"\n",(0,r.jsx)(n.p,{children:"Ramsha follows strict dependency rules to protect core logic and avoid tight coupling."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared"})," does not reference any layer"]}),"\n",(0,r.jsxs)(n.li,{children:["All layers reference ",(0,r.jsx)(n.strong,{children:"Shared"})," (directly or indirectly)"]}),"\n",(0,r.jsx)(n.li,{children:"Dependencies never point upward"}),"\n",(0,r.jsx)(n.li,{children:"Each layer references only what it needs"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Dependency flow:"}),"\n",(0,r.jsx)(n.p,{children:"Domain \u2192 Shared"}),"\n",(0,r.jsx)(n.p,{children:"Contracts \u2192 Shared"}),"\n",(0,r.jsx)(n.p,{children:"Application \u2192 Domain, Contracts"}),"\n",(0,r.jsx)(n.p,{children:"Persistence \u2192 Domain"}),"\n",(0,r.jsx)(n.p,{children:"Api \u2192 Contracts"}),"\n",(0,r.jsx)(n.p,{children:"Startup \u2192 Application, Persistence, Api"}),"\n",(0,r.jsx)(n.p,{children:"This structure protects core logic from infrastructure and framework concerns."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"layer-responsibilities",children:"Layer Responsibilities"}),"\n",(0,r.jsx)(n.h3,{id:"shared-layer",children:"Shared Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Shared layer"})," contains code that is ",(0,r.jsx)(n.strong,{children:"common and reusable"})," across the entire application."]}),"\n",(0,r.jsx)(n.p,{children:"Characteristics:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Has ",(0,r.jsx)(n.strong,{children:"no dependencies"})," on any other layer"]}),"\n",(0,r.jsx)(n.li,{children:"Can be referenced by all layers"}),"\n",(0,r.jsx)(n.li,{children:"Contains only generic, cross-cutting code"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Typical contents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Common utilities"}),"\n",(0,r.jsx)(n.li,{children:"Shared constants and enums"}),"\n",(0,r.jsx)(n.li,{children:"Cross-cutting abstractions"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This layer is the ",(0,r.jsx)(n.strong,{children:"foundation"})," of the system."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"domain-layer",children:"Domain Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Domain layer"})," represents the ",(0,r.jsx)(n.strong,{children:"core business logic"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Dependencies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Shared"})," only"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Typical contents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Entities"}),"\n",(0,r.jsx)(n.li,{children:"Domain Events"}),"\n",(0,r.jsx)(n.li,{children:"Domain rules"}),"\n",(0,r.jsx)(n.li,{children:"Business invariants"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Key principle:\r\nThe Domain layer contains ",(0,r.jsx)(n.strong,{children:"pure business logic"})," and is completely independent of application flow, persistence, or transport mechanisms."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"contracts-layer",children:"Contracts Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Contracts layer"})," defines ",(0,r.jsx)(n.strong,{children:"communication boundaries"})," and it can be use by another module."]}),"\n",(0,r.jsx)(n.p,{children:"Dependencies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Shared"})," only"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Typical contents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Interfaces"}),"\n",(0,r.jsx)(n.li,{children:"DTOs"}),"\n",(0,r.jsx)(n.li,{children:"Request and response models"}),"\n",(0,r.jsx)(n.li,{children:"Public contracts exposed to the API"}),"\n",(0,r.jsx)(n.li,{children:"Commands and Queries classes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Purpose:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Decouple the API from internal application logic"}),"\n",(0,r.jsx)(n.li,{children:"Provide stable, explicit interfaces"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"application-layer",children:"Application Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Application layer"})," implements ",(0,r.jsx)(n.strong,{children:"use cases"})," and application behavior."]}),"\n",(0,r.jsx)(n.p,{children:"Dependencies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Domain"})]}),"\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Contracts"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Typical contents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Application services"}),"\n",(0,r.jsx)(n.li,{children:"Use case implementations"}),"\n",(0,r.jsx)(n.li,{children:"Validation logic"}),"\n",(0,r.jsx)(n.li,{children:"Orchestration logic"}),"\n",(0,r.jsx)(n.li,{children:"Commands and Queries Handlers"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Responsibilities:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Coordinates business rules"}),"\n",(0,r.jsx)(n.li,{children:"Uses domain entities"}),"\n",(0,r.jsx)(n.li,{children:"Exposes functionality through contracts"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This layer defines ",(0,r.jsx)(n.strong,{children:"what the system does"}),", not how it does it."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"persistence-layer",children:"Persistence Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Persistence layer"})," contains data-access logic."]}),"\n",(0,r.jsx)(n.p,{children:"Dependencies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Domain"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Typical contents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Database contexts"}),"\n",(0,r.jsx)(n.li,{children:"ORM configurations"}),"\n",(0,r.jsx)(n.li,{children:"Repository implementations"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key rule:\r\nPersistence depends on the Domain, never the other way around."}),"\n",(0,r.jsx)(n.p,{children:"This keeps business logic independent of storage technologies."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"api-layer",children:"API Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"API layer"})," represents the ",(0,r.jsx)(n.strong,{children:"external boundary"})," of the application.",(0,r.jsx)(n.br,{}),"\n","It is responsible for exposing the system\u2019s capabilities to the outside world through HTTP endpoints."]}),"\n",(0,r.jsx)(n.p,{children:"Dependencies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Contracts"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Typical contents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Controllers or endpoints"}),"\n",(0,r.jsx)(n.li,{children:"Request handling"}),"\n",(0,r.jsx)(n.li,{children:"Response shaping and serialization"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Responsibilities:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Handles HTTP concerns"}),"\n",(0,r.jsx)(n.li,{children:"Delegates work using contracts"}),"\n",(0,r.jsx)(n.li,{children:"Contains no business logic"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The API layer knows ",(0,r.jsx)(n.em,{children:"what"})," it can call, but not ",(0,r.jsx)(n.em,{children:"how"})," it is implemented."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"startup-layer",children:"Startup Layer"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Startup layer"})," is responsible for ",(0,r.jsx)(n.strong,{children:"application composition"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Dependencies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Application"})]}),"\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Persistence"})]}),"\n",(0,r.jsxs)(n.li,{children:["References ",(0,r.jsx)(n.strong,{children:"Api"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Responsibilities:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Module registration"}),"\n",(0,r.jsx)(n.li,{children:"Dependency injection setup"}),"\n",(0,r.jsx)(n.li,{children:"Application bootstrapping"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This layer is the ",(0,r.jsx)(n.strong,{children:"only place"})," where all layers come together."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"clean-architecture--modularity",children:"Clean Architecture + Modularity"}),"\n",(0,r.jsxs)(n.p,{children:["Ramsha combines ",(0,r.jsx)(n.strong,{children:"Clean Architecture"})," with its ",(0,r.jsx)(n.strong,{children:"modular system"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Modules can span multiple layers"}),"\n",(0,r.jsx)(n.li,{children:"Each module follows the same dependency rules"}),"\n",(0,r.jsx)(n.li,{children:"Features remain isolated and cohesive"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This enables large systems to remain organized and predictable."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use-this-architecture",children:"When to Use This Architecture"}),"\n",(0,r.jsx)(n.p,{children:"This layered architecture is ideal for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Medium to large applications"}),"\n",(0,r.jsx)(n.li,{children:"Complex business logic"}),"\n",(0,r.jsx)(n.li,{children:"Long-term projects"}),"\n",(0,r.jsx)(n.li,{children:"Team-based development"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For smaller projects, simpler templates may be sufficient."})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);